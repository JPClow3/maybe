---
description: UI/UX standardization guide - defines consistent patterns for all templates (Visual DNA v2.0)
globs: templates/**/*.html
alwaysApply: true
---

# UI/UX Standards for Maybe Finance (Visual DNA v2.0)

This document defines the standard patterns that MUST be used consistently across all templates. This system is **dark-mode first** with "Ethereal Dark Mode" aesthetic.

## Page Headers

**Standard Pattern:**
```django
<div class="flex justify-between items-center mb-6">
    <div>
        <h1 class="text-3xl font-bold tracking-tight bg-gradient-to-r from-indigo-500 via-violet-600 to-indigo-500 bg-clip-text text-transparent">Page Title</h1>
        <p class="text-sm text-slate-400 mt-1">Page description or subtitle</p>
    </div>
    {% if action_button_url %}
    <a href="{% url 'action_button_url' %}" class="btn-primary">
        Action Button Text
    </a>
    {% endif %}
</div>
```

**Rules:**
- ALWAYS use the gradient text style for h1 (Indigo to Violet gradient)
- ALWAYS include a subtitle/description with `text-slate-400`
- Action buttons go on the right side
- Use `mb-6` for spacing below header
- Headings use `tracking-tight` for dense, cohesive feel

## Form Pages

**Standard Pattern:**
```django
<div class="px-4 py-6 sm:px-0">
    <div class="max-w-2xl mx-auto">
        <a href="{% url 'back_url' %}" class="text-indigo-400 hover:text-indigo-300 mb-4 inline-block">‚Üê Back to List</a>
        <div class="mb-6">
            <h1 class="text-3xl font-bold tracking-tight bg-gradient-to-r from-indigo-500 via-violet-600 to-indigo-500 bg-clip-text text-transparent">{{ title }}</h1>
        </div>
        
        <div class="card">
            <form method="post" class="space-y-6" hx-post="..." hx-target="#form-content" hx-swap="innerHTML">
                {% csrf_token %}
                <div id="form-content">
                    {% include 'app/form_partial.html' %}
                </div>
            </form>
        </div>
    </div>
</div>
```

**Rules:**
- Forms MUST be in `max-w-2xl mx-auto` container
- ALWAYS include a back link with consistent styling (`text-indigo-400`)
- Form content goes in a `card` (glass panel)
- Use `space-y-6` for form spacing

## Form Buttons

**Standard Pattern:**
```django
<div class="flex justify-end gap-3 pt-4 border-t border-white/5">
    <a href="{% url 'cancel_url' %}" class="btn-secondary" hx-boost="false">Cancel</a>
    <button type="submit" class="btn-primary relative">
        <span class="htmx-indicator-button">Save</span>
        <span class="htmx-indicator absolute right-2 top-1/2 -translate-y-1/2">
            {% include 'partials/spinner.html' with size='h-5 w-5' color='text-white' %}
        </span>
    </button>
</div>
```

**Rules:**
- Buttons are right-aligned with `flex justify-end gap-3`
- Cancel button uses `btn-secondary`
- Submit button uses `btn-primary` with HTMX indicator
- Buttons have a border-top separator (`border-white/5`)
- Use `pt-4` for padding

## Tables

**Standard Pattern:**
```django
<div class="card">
    {% if items %}
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-white/5">
            <thead class="bg-white/5">
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider">Column</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-white/5">
                <tr class="table-row-hover">
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-200">Content</td>
                </tr>
            </tbody>
        </table>
    </div>
    {% else %}
        {% url 'create_url' as create_url %}
        {% include 'partials/_empty.html' with title="No items found" description="Description text" button_text="Create First Item" button_url=create_url %}
    {% endif %}
</div>
```

**Rules:**
- Tables MUST be wrapped in a `card` (glass panel)
- Table headers use `bg-white/5`
- Header text: `text-xs font-medium text-slate-400 uppercase tracking-wider`
- Body rows use `table-row-hover` class
- Body text: `text-sm text-gray-200` (never pure white, use gray-200 for high contrast)
- Dividers use `divide-white/5`
- Empty states MUST use `_empty.html` partial

## Empty States

**Standard Pattern:**
```django
<div class="card">
    <div class="flex flex-col items-center justify-center py-12 text-center">
        <div class="opacity-20 mb-4">
            {# Large icon here - use Lucide icons #}
            <svg class="w-16 h-16 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                {# Icon path #}
            </svg>
        </div>
        <h3 class="text-lg font-semibold text-gray-200 mb-2">No items found</h3>
        <p class="text-sm text-slate-400 mb-6">Helpful description text</p>
        <a href="{% url 'create_url' %}" class="btn-primary">Add First Item</a>
    </div>
</div>
```

**Rules:**
- ALWAYS use the `_empty.html` partial (or follow this pattern)
- Use a large, low-opacity (20%) icon in the center (`opacity-20`)
- Icon should be `w-16 h-16` with `text-slate-400`
- Provide meaningful title (`text-gray-200`) and description (`text-slate-400`)
- Include a primary "Add" button that glows (`btn-primary`)
- Empty state goes inside a `card` when part of a list view
- Never make empty states feel "broken" - they should feel like a fresh start

## Skeleton Loading

**Standard Pattern:**
```django
<div class="card animate-pulse">
    <div class="space-y-4">
        <div class="h-4 bg-white/5 rounded w-3/4"></div>
        <div class="h-4 bg-white/5 rounded w-1/2"></div>
        <div class="h-20 bg-white/5 rounded"></div>
    </div>
</div>
```

**Rules:**
- Use `animate-pulse` on the container
- Use `bg-white/5` for skeleton blocks (never white or bright colors)
- Skeleton shapes MUST match the exact dimensions of the data they replace
  - Circle for avatars: `rounded-full`
  - Thin rectangle for text: `h-4` or `h-5`
  - Wide rectangle for titles: `w-3/4` or `w-1/2`
- Never show a white flash or jumping layout
- Skeleton should fade in smoothly

## Search Forms

**Standard Pattern:**
```django
<div class="card-primary mb-4">
    <form method="get" hx-get="{% url 'search_url' %}" hx-target="#main-content" hx-swap="innerHTML" hx-push-url="true" hx-indicator="#search-loading" class="flex gap-4">
        <input type="text" name="search" value="{{ search_query }}" placeholder="Search..." class="form-input flex-1" aria-label="Search">
        <button type="submit" class="btn-primary relative">
            <span class="htmx-indicator-button">Search</span>
            <span id="search-loading" class="htmx-indicator absolute right-2 top-1/2 -translate-y-1/2">
                {% include 'partials/spinner.html' with size='h-5 w-5' color='text-white' %}
            </span>
        </button>
        {% if search_query %}
        <a href="{% url 'clear_url' %}" class="btn-secondary" hx-boost="true" hx-target="#main-content" hx-select="#main-content" hx-swap="innerHTML">Clear</a>
        {% endif %}
    </form>
</div>
```

**Rules:**
- Search forms use `card-primary` (not regular `card`)
- Use `flex gap-4` layout
- Input uses `form-input flex-1`
- Include HTMX loading indicator
- Clear button only shows when there's a search query

## Input Field Physics (The Command Bar)

**Standard Pattern:**
```django
<input 
    type="text" 
    class="form-input" 
    placeholder="Enter text..."
    aria-label="Input label"
/>
```

**States:**
- **Rest**: `border-white/10`, `bg-white/5`
- **Focus**: `border-indigo-500/50`, `bg-black/50`, `shadow-glow`
- **Typing**: Text should be white (`text-white`), placeholders should be distinct (`text-gray-500`)
- **Validation Error**: Border turns `border-rose-500/50` and adds `text-shadow-rose` glow to input text itself

**Rules:**
- All inputs use `form-input` class
- Focus states must be clearly visible with indigo glow
- Error states must add text shadow glow, not just border color
- Placeholders use `text-gray-500` for distinction

## Card Usage

**When to use each card variant:**

- `card` - Default glass panel for content containers, lists, forms
  - Background: `bg-[#121212]/40` with `backdrop-filter: blur(24px)`
  - Border: `border border-white/5`
  - Shadow: `shadow-[0_8px_32px_0_rgba(0,0,0,0.36)]`
  - Hover: `hover:bg-white/5` with spotlight effect
- `card-primary` - For search forms, highlighted sections (indigo accent border)
- `card-success` - For success/positive information (rare, emerald accent)
- `card-lift` - For clickable/interactive cards (adds hover lift effect with `translateY(-2px)`)

**Rules:**
- Most content uses `card` (standard glass panel)
- Search forms use `card-primary`
- Clickable cards (like budget cards) use `card card-lift`
- All cards are glass panels with backdrop blur

## List Views

**Standard Pattern:**
```django
<div class="px-4 py-6 sm:px-0">
    {# Header with title and action button #}
    <div class="flex justify-between items-center mb-6">
        <div>
            <h1 class="text-3xl font-bold tracking-tight bg-gradient-to-r from-indigo-500 via-violet-600 to-indigo-500 bg-clip-text text-transparent">List Title</h1>
            <p class="text-sm text-slate-400 mt-1">List description</p>
        </div>
        <a href="{% url 'create_url' %}" class="btn-primary">New Item</a>
    </div>
    
    {# Content area with HTMX loading #}
    <div id="list-content" hx-get="{% url 'list_data_url' %}" hx-trigger="load" hx-swap="innerHTML" hx-indicator="#list-loading" class="relative">
        {% if show_skeleton %}
            {% include 'app/list_skeleton.html' %}
        {% else %}
            {% include 'app/list_data.html' %}
        {% endif %}
        <div id="list-loading" class="htmx-indicator absolute inset-0 flex items-center justify-center bg-[#050505]/80 backdrop-blur-sm rounded-lg">
            {% include 'partials/spinner.html' with size='h-8 w-8' color='text-indigo-400' %}
        </div>
    </div>
</div>
```

**Rules:**
- Use staggered entrance animations for list items (50ms delay per item)
- Loading overlay uses `bg-[#050505]/80` (deep space with opacity)
- Spinner uses `text-indigo-400` for brand consistency

## Detail Pages

**Standard Pattern:**
```django
<div class="px-4 py-6 sm:px-0">
    <div class="flex justify-between items-center mb-6">
        <div>
            <h1 class="text-3xl font-bold tracking-tight bg-gradient-to-r from-indigo-500 via-violet-600 to-indigo-500 bg-clip-text text-transparent">Item Name</h1>
            <p class="text-sm text-slate-400 mt-1">Additional context</p>
        </div>
        <a href="{% url 'edit_url' item.pk %}" class="btn-primary">Edit</a>
    </div>
    
    <section class="card mb-6" aria-labelledby="details-heading">
        <h2 id="details-heading" class="text-lg font-semibold text-gray-200 mb-4">Details</h2>
        {# Content #}
    </section>
</div>
```

## Color Usage

**Text Colors (Dark Mode First):**
- Primary text: `text-gray-200` (never pure white, use #e5e5e5 for high contrast)
- Secondary text: `text-slate-400`
- Muted text: `text-slate-500`
- Links: `text-indigo-400 hover:text-indigo-300`

**Money/Financial (Semantic HUD):**
- Asset / Gain: `text-emerald-400` with optional `text-shadow-emerald` glow
- Liability / Loss: `text-rose-400` with optional `text-shadow-rose` glow
- Crypto / Volatile: `text-orange-400` with optional `shadow-orange-500/20`
- Neutral / Info: `text-slate-400`
- Use `font-mono` for all monetary values, percentages, dates
- Use `balance-display` class for main balance numbers

**Bioluminescent Accents (Gradients/Borders/Glows, not flat blocks):**
- Primary Brand: `indigo-500` (#6366f1) - CTAs, Active Nav, Asset Glows
- Secondary Gradient: `violet-600` (#7c3aed) - Gradient stops
- Accent: `fuchsia-500` (#ec4899) - "Ask AI" sparks, investment highlights
- Accent: `cyan-500` (#06b6d4) - Technology, Crypto, Future projections

## Spacing

**Standard Spacing:**
- Page container: `px-4 py-6 sm:px-0`
- Section spacing: `mb-6` (between major sections)
- Card spacing: `mb-4` or `mb-6` (between cards) - we value "Blackspace"
- Form spacing: `space-y-6` (within forms)
- Button groups: `gap-3` or `gap-4`
- Bento grid gap: `gap-6` (24px standard)

## Typography

**Interface Font (Inter/Geist Sans):**
- Headings: `tracking-tight` or `tracking-tighter`, Bold weights (600/700)
- Body: Normal tracking, Light/Regular weights (300/400)
- Color: `text-gray-200` (never pure white)

**Data Font (JetBrains Mono/Geist Mono):**
- Apply `font-mono` to all currency, percentages, dates, technical labels
- Use `tracking-tight` for dense, cohesive numbers
- Ensures vertical alignment for faster scanning

## Responsive Design

**Breakpoints:**
- Mobile: Default (no prefix)
- Tablet: `sm:` (640px+)
- Desktop: `md:` (768px+)
- Large: `lg:` (1024px+)

**Rules:**
- Mobile-first approach
- Use responsive utilities for layout changes
- Test on mobile, tablet, and desktop
- Glass panels may reduce blur on mobile for performance

## Motion & Micro-interactions

**Page Load:**
- Use `animate-fade-in-up` (TranslateY 20px -> 0px, Opacity 0 -> 1) over 0.6s

**Hover:**
- Use `transition-all duration-300 ease-out`. Never instant
- Cards lift with `translateY(-2px)` on hover

**Lists:**
- Staggered entrance for list items (50ms delay per item)

**HTMX Transitions:**
- Use crossfade or slide to maintain Single Page App illusion
- Content should flow, not jump

## Accessibility

**Required:**
- All interactive elements have `aria-label` or visible text
- Form inputs have `aria-label` or associated `<label>`
- Tables have `role="table"` and `aria-label`
- Loading states use `htmx-indicator` class
- Focus states are visible (handled by design system with indigo glow)
- High contrast text (`text-gray-200`) for readability

## Dark Mode (Primary State)

**Rules:**
- This system is **dark-mode first** ("Ethereal Dark Mode")
- All designs assume dark mode as the primary state
- Background: `bg-[#050505]` (Deep Space) for primary canvas
- Body background: `bg-black` (Singularity) for deepest layer
- Use semantic color tokens consistently
- Glass panels provide depth and context through blur
