---
description: This rule describes how to write HTMX-enhanced templates
globs: maybe_django/**/*.html
alwaysApply: false
---
This rule describes how to write HTMX-enhanced Django templates for the Maybe Django application.

- **Use declarative HTMX attributes, not imperative JavaScript**
  - Instead of writing JavaScript event listeners, always write templates declaratively by using HTMX attributes in HTML to call server endpoints. Below are good vs. bad examples.

  BAD code:

  ```javascript
  // BAD!!!! DO NOT DO THIS!!
  // Imperative - JavaScript does all the work
  document.getElementById('toggle-button').addEventListener('click', function() {
    document.getElementById('content').classList.toggle('hidden');
  });
  ```

  GOOD code:

  ```html
  <!-- Declarative - HTML declares what happens -->
  <button id="toggle-button" 
          hx-get="/api/toggle/"
          hx-target="#content"
          hx-swap="innerHTML">
    Toggle Content
  </button>
  <div id="content" class="hidden">
    Content here
  </div>
  ```

- **Keep HTMX usage simple and server-focused**
  - Always aim for minimal client-side JavaScript
  - Use HTMX attributes (`hx-get`, `hx-post`, `hx-swap`, `hx-target`) for dynamic updates
  - Let the server render HTML fragments that HTMX swaps into the page
  - Use HTMX triggers (`hx-trigger`) for event handling

- **Keep HTMX interactions focused on what they do best**
  - Domain logic does NOT belong in client-side JavaScript
  - HTMX should be used for UI interactions and dynamic content loading
  - Business logic always lives on the server (in views/models/services)

- **HTMX pattern guidelines**
  - Use `hx-swap="outerHTML"` when replacing an entire element
  - Use `hx-swap="innerHTML"` when updating content inside an element
  - Use `hx-target` to specify which element to update
  - Use `hx-trigger` for custom event handling (e.g., `hx-trigger="click delay:500ms"`)
  - Use `hx-indicator` to show loading states

- **Example HTMX patterns**
  
  ```html
  <!-- Dynamic content loading -->
  <div hx-get="/accounts/list/"
       hx-trigger="load"
       hx-swap="innerHTML">
    Loading...
  </div>
  
  <!-- Form submission with partial update -->
  <form hx-post="/transactions/create/"
        hx-target="#transaction-list"
        hx-swap="afterbegin">
    {% csrf_token %}
    <!-- form fields -->
  </form>
  
  <!-- Delete with confirmation -->
  <button hx-delete="/accounts/{{ account.id }}/"
          hx-confirm="Are you sure?"
          hx-target="closest .account-item"
          hx-swap="outerHTML">
    Delete
  </button>
  ```
