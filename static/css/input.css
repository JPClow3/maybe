@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   LUMA - Visual Identity & Design System (v1.0)
   ============================================================================
   
   Philosophy: Finance is energy. It flows, it fluctuates, and it illuminates 
   your life. Luma is not a container for numbers; it is a lens that focuses 
   that energy into a clear signal.
   
   The Void (Surfaces):
   - Singularity: #000000 (deepest layer, body background)
   - Deep Space: #050505 (primary app canvas)
   - Matter: #121212 (solid cards, fallback/modal)
   - Glass Base: rgba(18, 18, 18, 0.6) (standard panels/cards - Luma spec)
   - Glass Highlight: rgba(255, 255, 255, 0.03) (hover states - Luma spec)
   
   Glass Panel Specifications (Luma Design System):
   - Background: rgba(18, 18, 18, 0.6) with backdrop-filter: blur(24px)
   - Border: 1px solid rgba(255, 255, 255, 0.05)
   - Shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.36)
   - Hover: rgba(255, 255, 255, 0.03) with spotlight effect
   
   Bioluminescence (Brand & Accents):
   - Electric Indigo: #6366f1 (Primary Brand - CTAs, Active Nav, Asset Glows)
   - Deep Violet: #7c3aed (Secondary gradient stop)
   - Neon Fuchsia: #ec4899 (Accent - "Ask AI" sparks, investment highlights)
   - Cyber Cyan: #22d3ee (Accent - Technology, Crypto, Future projections - Luma spec)
   
   Semantic Data (The HUD):
   - Asset/Gain: #34d399 (emerald-400) with text-shadow: 0 0 10px rgba(52,211,153,0.5) - Luma spec
   - Debt/Loss: #f43f5e (rose-500) with text-shadow: 0 0 10px rgba(244,63,94,0.5) - Luma spec
   - Crypto/Volatile: #22d3ee (cyan-400) with shadow: 0 0 15px rgba(34,211,238,0.4) - Luma spec
   - Warning: #fbbf24 (amber-400) - Luma spec
   - Neutral/Info: #94a3b8 (slate-400)
   
   Typography:
   - Interface: Inter (or Geist Sans), never pure white (#e5e5e5 / gray-200)
   - Data: JetBrains Mono (or Geist Mono) with tracking-tight
   ============================================================================ */

/* Geist Fonts - @font-face declarations */
@font-face {
  font-family: 'Geist Sans';
  src: url('../fonts/Geist-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Geist Sans';
  src: url('../fonts/Geist-Medium.woff2') format('woff2');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Geist Mono';
  src: url('../fonts/GeistMono-Regular.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* ============================================================================
   PHASE 1.2: PERFORMANCE OPTIMIZATIONS (CRITICAL - DO FIRST)
   ============================================================================ */

/* Reduced motion support - disable animations for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Will-change utilities - use sparingly, ONLY on orbs */
@layer utilities {
  .will-change-transform {
    will-change: transform;
  }
  
  .will-change-auto {
    will-change: auto;
  }
}

/* Feature detection classes - applied via JavaScript */
.no-backdrop-filter .glass-panel,
.no-backdrop-filter .header-glass,
.no-backdrop-filter .glass-mobile {
  /* Fallback: solid colors with same opacity */
  backdrop-filter: none !important;
}

/* Performance mode classes - applied via JavaScript */
[data-performance-mode="low"] .orb {
  display: none !important;
}

[data-performance-mode="low"] .glass-panel,
[data-performance-mode="low"] .glass-mobile {
  backdrop-filter: blur(2px) !important;
}

[data-performance-mode="medium"] .orb {
  /* Limit orb animations */
  animation-duration: 8s !important;
}

/* ============================================================================
   END PERFORMANCE OPTIMIZATIONS
   ============================================================================ */

/* Custom design tokens - Visual DNA v2.0 */
@layer base {
  :root {
    /* Bioluminescence (Brand & Accents) - Visual DNA v2.0 */
    --color-primary: #6366f1; /* Electric Indigo - Primary Brand */
    --color-primary-hover: #4f46e5; /* indigo-600 */
    --color-primary-light: #818cf8; /* indigo-400 */
    --color-primary-dark: #4f46e5; /* indigo-600 */
    --color-primary-soft: #eef2ff; /* indigo-50 */
    
    /* Deep Violet for secondary gradients */
    --color-violet: #7c3aed; /* Deep Violet */
    --color-fuchsia: #ec4899; /* Neon Fuchsia */
    --color-cyan: #22d3ee; /* Cyber Cyan - Luma spec */
    --color-amber: #fbbf24; /* Amber 400 - Luma spec: Warning */
    
    /* Surface colors (light mode fallback) */
    --color-surface: #ffffff;
    --color-surface-subtle: #f9fafb; /* Gray 50 */
    
    /* Money semantic colors - Luma Design System */
    --color-money-income: #34d399; /* Emerald 400 - Asset/Gain - Luma spec */
    --color-money-expense: #f43f5e; /* Rose 500 - Liability/Loss - Luma spec */
    --color-money-debt: #f43f5e; /* Rose 500 */
    --color-money-crypto: #22d3ee; /* Cyan 400 - Crypto/Volatile - Luma spec */
    --color-money-neutral: #94a3b8; /* Slate 400 - Neutral/Info */
    
    /* Legacy colors (for backward compatibility) */
    --color-secondary: #6b7280;
    --color-success: #22c55e;
    --color-danger: #ef4444;
    --color-text-primary: #111827;
    --color-text-secondary: #6b7280;
    --color-bg-container: #ffffff;
    --color-bg-surface: #f9fafb;
    --color-border: #e5e7eb;
    
    /* Gradient colors for depth */
    --gradient-indigo-start: #6366f1; /* Electric Indigo */
    --gradient-indigo-end: #7c3aed; /* Deep Violet */
    --gradient-indigo-subtle: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(124, 58, 237, 0.05) 100%);
  }
  
  /* Dark mode variables - Visual DNA v2.0 (Primary State) */
  .dark {
    /* The Void (Backgrounds) - Luma Design System */
    --color-singularity: #000000; /* Deepest layer */
    --color-deep-space: #050505; /* Primary app canvas */
    --color-matter: #121212; /* Solid cards */
    --color-glass-base: rgba(18, 18, 18, 0.6); /* Standard panels/cards - Luma spec */
    --color-glass-highlight: rgba(255, 255, 255, 0.03); /* Hover states - Luma spec */
    
    /* Surface colors */
    --color-surface: #050505; /* Deep Space */
    --color-surface-subtle: #121212; /* Matter */
    --color-text-primary: #e5e5e5; /* Never pure white - gray-200 for high contrast */
    --color-text-secondary: #94a3b8; /* slate-400 */
    --color-bg-container: #000000; /* Singularity */
    --color-bg-surface: #050505; /* Deep Space */
    --color-border: rgba(255, 255, 255, 0.05);
    
    /* Glass surface opacities - Luma Design System */
    --glass-primary: rgba(18, 18, 18, 0.6); /* Luma spec: glass-base */
    --glass-secondary: rgba(18, 18, 18, 0.3);
    --glass-header: rgba(18, 18, 18, 0.5);
    --glass-mobile: rgba(18, 18, 18, 0.95);
    --glass-border: rgba(255, 255, 255, 0.05);
    --glass-border-secondary: rgba(255, 255, 255, 0.03);
    --glass-border-header: rgba(255, 255, 255, 0.08);
  }
}

/* Custom component styles */
@layer components {
  /* Buttons - Luma Design System - Electric Indigo primary */
  .btn-primary {
    @apply bg-indigo-500 text-white px-4 py-2 rounded-lg min-h-[44px] active:scale-95 transition-all duration-300 ease-out hover:bg-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-indigo-500 disabled:active:scale-100;
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.3); /* Luma spec: Primary Brand glow */
  }
  
  .btn-primary:hover {
    box-shadow: 0 0 24px rgba(99, 102, 241, 0.4); /* stronger glow on hover */
  }
  
  .btn-secondary {
    @apply bg-secondary-200 text-secondary-900 px-4 py-2 rounded-lg min-h-[44px] active:scale-95 transition-all duration-200 ease-in-out hover:bg-secondary-300 focus:outline-none focus:ring-2 focus:ring-secondary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-secondary-200 disabled:active:scale-100;
  }
  
  .btn-danger {
    @apply bg-rose-600 text-white px-4 py-2 rounded-lg min-h-[44px] active:scale-95 transition-all duration-200 ease-in-out hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-rose-600 disabled:active:scale-100;
  }
  
  .btn-ghost {
    @apply bg-transparent text-gray-700 px-4 py-2 rounded-lg min-h-[44px] active:scale-95 transition-all duration-200 ease-in-out hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-transparent disabled:active:scale-100;
  }
  
  /* Form inputs - Visual DNA v2.0: Input Field Physics (The Command Bar) */
  .form-input {
    @apply mt-1 block w-full rounded-lg px-3 py-2 text-sm min-h-[44px] transition-all duration-300 ease-out focus:outline-none;
    /* Rest state */
    border: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(255, 255, 255, 0.05);
    color: #ffffff;
  }
  
  .form-input::placeholder {
    color: #6b7280; /* gray-500 */
  }
  
  /* Focus state */
  .form-input:focus {
    border-color: rgba(99, 102, 241, 0.5); /* indigo-500/50 */
    background: rgba(0, 0, 0, 0.5); /* bg-black/50 */
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.15); /* shadow-glow */
  }
  
  /* Validation error state */
  .form-input.error,
  .form-input:invalid {
    border-color: rgba(244, 63, 94, 0.5); /* rose-500/50 */
    text-shadow: 0 0 8px rgba(244, 63, 94, 0.4); /* text-shadow-rose */
  }
  
  /* Mobile: Higher opacity for readability */
  @media (max-width: 768px) {
    .form-input {
      background: rgba(18, 18, 18, 0.8);
    }
  }
  
  .form-input[type="number"],
  .form-input.input-numeric {
    @apply tabular-nums font-mono;
  }

  .form-select {
    @apply mt-1 block w-full rounded-lg px-3 py-2 text-sm min-h-[44px] transition-all duration-300 ease-out focus:outline-none;
    border: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(255, 255, 255, 0.05);
    color: #ffffff;
  }
  
  .form-select:focus {
    border-color: rgba(99, 102, 241, 0.5);
    background: rgba(0, 0, 0, 0.5);
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.15);
  }
  
  @media (max-width: 768px) {
    .form-select {
      background: rgba(18, 18, 18, 0.8);
    }
  }

  .form-textarea {
    @apply mt-1 block w-full rounded-lg px-3 py-2 text-sm transition-all duration-300 ease-out focus:outline-none;
    border: 1px solid rgba(255, 255, 255, 0.1);
    background: rgba(255, 255, 255, 0.05);
    color: #ffffff;
  }
  
  .form-textarea:focus {
    border-color: rgba(99, 102, 241, 0.5);
    background: rgba(0, 0, 0, 0.5);
    box-shadow: 0 0 20px rgba(99, 102, 241, 0.15);
  }
  
  @media (max-width: 768px) {
    .form-textarea {
      background: rgba(18, 18, 18, 0.8);
    }
  }

  /* Form validation states - Visual DNA v2.0 */
  .form-input.border-success-500,
  .form-select.border-success-500,
  .form-textarea.border-success-500 {
    border-color: theme('colors.success.500');
    --tw-ring-color: theme('colors.success.500');
  }

  .form-input.border-danger-500,
  .form-select.border-danger-500,
  .form-textarea.border-danger-500 {
    border-color: theme('colors.rose.400');
    --tw-ring-color: theme('colors.rose.400');
    text-shadow: 0 0 8px rgba(244, 63, 94, 0.4); /* text-shadow-rose glow */
  }
  
  /* Cards - Luma Design System: The Glass Panel (Standard Card) */
  /* Note: Base card styles are defined via .glass-panel below */
  
  /* Card variants with colored accents - Luma Design System */
  .card-primary {
    @apply rounded-xl p-5 transition-all duration-300 ease-out;
    background: rgba(18, 18, 18, 0.6); /* Luma spec: glass-base */
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border-left: 4px solid #6366f1; /* Electric Indigo accent */
    border-top: 1px solid rgba(255, 255, 255, 0.05);
    border-right: 1px solid rgba(255, 255, 255, 0.05);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.36);
  }
  
  .card-primary:hover {
    background: rgba(255, 255, 255, 0.03); /* Luma spec: glass-highlight */
    transform: translateY(-2px);
  }
  
  .card-success {
    @apply bg-white border-l-4 border-emerald-500 shadow-sm p-5 transition-all duration-300 ease-in-out;
  }
  
  .card-success:hover {
    @apply shadow-md border-emerald-600;
    transform: translateY(-2px);
  }
  
  .text-primary {
    @apply text-primary-600;
  }
  
  /* Purple gradient utilities for depth */
  .gradient-purple-subtle {
    background: linear-gradient(135deg, rgba(124, 58, 237, 0.08) 0%, rgba(167, 139, 250, 0.04) 100%);
  }
  
  .gradient-purple-border {
    border-image: linear-gradient(135deg, rgba(124, 58, 237, 0.3), rgba(167, 139, 250, 0.2)) 1;
  }
  
  /* Purple accent shadows */
  .shadow-purple-sm {
    box-shadow: 0 1px 2px 0 rgba(124, 58, 237, 0.15);
  }
  
  .shadow-purple-md {
    box-shadow: 0 4px 6px -1px rgba(124, 58, 237, 0.2), 0 2px 4px -1px rgba(124, 58, 237, 0.1);
  }
  
  /* Purple hover effects */
  .hover-purple-glow:hover {
    box-shadow: 0 0 12px rgba(124, 58, 237, 0.25);
  }
  
  .text-success {
    @apply text-success-600;
  }
  
  .text-danger {
    @apply text-danger-600;
  }
  
  /* Badges - Subtle style for categories and status */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-lg text-xs font-medium;
  }
  
  .badge-income {
    @apply bg-emerald-50 text-emerald-700;
  }
  
  .badge-expense {
    @apply bg-zinc-50 text-zinc-700;
  }
  
  .badge-debt {
    @apply bg-rose-50 text-rose-700;
  }
  
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
  
  .focus\:not-sr-only:focus {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
  
  /* Ensure all interactive elements have visible focus */
  a:focus,
  button:focus,
  input:focus,
  select:focus,
  textarea:focus {
    outline: 2px solid theme('colors.primary.500');
    outline-offset: 2px;
  }
  
  /* Global micro-interactions - tactile click effect */
  button:not(:disabled),
  a:not([aria-disabled="true"]),
  [role="button"]:not([aria-disabled="true"]) {
    @apply transition-transform duration-200 ease-in-out active:scale-95;
  }
  
  /* Ensure disabled elements don't scale */
  button:disabled,
  a[aria-disabled="true"],
  [role="button"][aria-disabled="true"] {
    @apply active:scale-100;
  }
  
  /* Tabular numbers for monetary values - proper alignment */
  .font-tabular-nums {
    font-variant-numeric: tabular-nums;
  }
  
  /* ============================================================================
     PHASE 1.2: GLASS COMPONENTS (with fallbacks)
     ============================================================================ */
  
  /* Background Layers */
  .ambient-light {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    pointer-events: none;
    overflow: hidden;
  }
  
  /* Noise overlay - Visual DNA v2.0 */
  .noise-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 50;
    pointer-events: none;
    opacity: 0.2; /* opacity-20 for film grain effect */
    mix-blend-mode: overlay; /* mix-blend-overlay */
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  }
  
  /* Orb system - Visual DNA v2.0: Ambient Glow */
  .orb {
    position: fixed; /* Fixed for ambient background effect */
    border-radius: 50%; /* rounded-full */
    filter: blur(100px); /* blur(100px) for soft glow */
    will-change: transform;
    opacity: 0.2; /* opacity-20 */
    z-index: -1;
  }
  
  .orb-emerald {
    background: radial-gradient(circle, rgba(16, 185, 129, 0.3) 0%, transparent 70%);
  }
  
  .orb-indigo {
    background: radial-gradient(circle, rgba(99, 102, 241, 0.3) 0%, transparent 70%);
  }
  
  .orb-rose {
    background: radial-gradient(circle, rgba(244, 63, 94, 0.3) 0%, transparent 70%);
  }
  
  /* Disable orbs on reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .orb {
      animation: none !important;
    }
  }
  
  /* Glass Panel - Luma Design System: The Glass Panel (Standard Card) */
  .glass-panel {
    background: rgba(18, 18, 18, 0.6); /* Luma spec: glass-base */
    border: 1px solid rgba(255, 255, 255, 0.05); /* border-white/5 */
    border-radius: 1rem;
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.36); /* shadow-glass */
    backdrop-filter: blur(24px); /* High blur for "frosted" premium look */
    -webkit-backdrop-filter: blur(24px);
    transition: transform 0.3s ease-out, box-shadow 0.3s ease-out, background 0.3s ease-out;
  }
  
  /* Reduce blur on mobile for better performance */
  @media (max-width: 768px) {
    .glass-panel {
      background: rgba(18, 18, 18, 0.8);
      backdrop-filter: blur(8px) !important;
      -webkit-backdrop-filter: blur(8px) !important;
    }
  }
  
  /* Fallback for no backdrop-filter support */
  .no-backdrop-filter .glass-panel {
    background: rgba(18, 18, 18, 0.9);
    backdrop-filter: none;
  }
  
  /* Glass panel hover - Spotlight interaction */
  .glass-panel:hover {
    background: rgba(255, 255, 255, 0.03); /* Luma spec: glass-highlight */
    transform: translateY(-2px);
  }
  
  /* Glass Mobile - 98%+ opacity for maximum readability in bright sunlight */
  .glass-mobile {
    background: rgba(255, 255, 255, 0.98);
    border: 1px solid rgba(0, 0, 0, 0.15);
    border-radius: 1rem;
  }
  
  /* Disable backdrop-filter on mobile for better performance and readability */
  @media (max-width: 768px) {
    .glass-mobile {
      backdrop-filter: none !important;
      -webkit-backdrop-filter: none !important;
    }
  }
  
  @supports (backdrop-filter: blur(2px)) {
    @media (min-width: 769px) {
      .glass-mobile {
        backdrop-filter: blur(2px);
        -webkit-backdrop-filter: blur(2px);
      }
    }
  }
  
  .no-backdrop-filter .glass-mobile {
    background: rgba(255, 255, 255, 0.99);
    backdrop-filter: none;
  }
  
  .dark .glass-mobile {
    background: rgba(0, 0, 0, 0.98);
    border: 1px solid rgba(255, 255, 255, 0.15);
  }
  
  .no-backdrop-filter .dark .glass-mobile {
    background: rgba(0, 0, 0, 0.99);
  }
  
  /* Header Glass - Translucent header with backdrop-blur */
  .header-glass {
    background: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
  }
  
  @supports (backdrop-filter: blur(16px)) {
    .header-glass {
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
    }
  }
  
  .no-backdrop-filter .header-glass {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: none;
  }
  
  .dark .header-glass {
    background: rgba(0, 0, 0, 0.5);
    border-bottom: 1px solid rgba(255, 255, 255, 0.12);
  }
  
  .no-backdrop-filter .dark .header-glass {
    background: rgba(0, 0, 0, 0.9);
  }
  
  /* Card Lift - Magnetic hover effect (transform only, no blur) */
  .card-lift {
    transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
  }
  
  .card-lift:hover {
    transform: translateY(-2px);
  }
  
  /* Typography - Luma Design System: Text Shadows for Semantic Data */
  .text-shadow-emerald {
    text-shadow: 0 0 10px rgba(52, 211, 153, 0.5); /* Luma spec: Asset/Gain glow (emerald-400 #34d399) */
  }
  
  .text-shadow-rose {
    text-shadow: 0 0 10px rgba(244, 63, 94, 0.5); /* Luma spec: Debt/Loss glow (rose-500 #f43f5e) */
  }
  
  .text-shadow-orange {
    text-shadow: 0 0 15px rgba(34, 211, 238, 0.4); /* Luma spec: Crypto/Volatile glow (cyan-400 #22d3ee) */
  }
  
  /* Legacy text-glow for backward compatibility */
  .text-glow {
    text-shadow: 0 0 10px rgba(52, 211, 153, 0.5); /* Updated to Luma spec */
  }
  
  .dark .text-glow {
    text-shadow: 0 0 10px rgba(52, 211, 153, 0.6);
  }
  
  /* Button Enhancements */
  .btn-liquid {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }
  
  .dark .btn-liquid {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .btn-primary-glow {
    box-shadow: 0 0 12px rgba(16, 185, 129, 0.2);
  }
  
  .btn-primary-glow:hover {
    box-shadow: 0 0 16px rgba(16, 185, 129, 0.3);
  }
  
  /* Card class - uses glass-panel with proper styling */
  .card {
    @apply rounded-xl p-5 transition-all duration-300 ease-out;
    /* Luma Design System glass panel specifications */
    background: rgba(18, 18, 18, 0.6); /* Luma spec: glass-base */
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid rgba(255, 255, 255, 0.05); /* border-white/5 */
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.36); /* shadow-glass */
  }
  
  /* Hover: Spotlight interaction */
  .card:hover {
    background: rgba(255, 255, 255, 0.03); /* Luma spec: glass-highlight */
    transform: translateY(-2px);
  }
  
  /* Reduce blur on mobile for better performance */
  @media (max-width: 768px) {
    .card {
      background: rgba(18, 18, 18, 0.8);
      backdrop-filter: blur(8px) !important;
      -webkit-backdrop-filter: blur(8px) !important;
    }
  }
  
  /* Fallback for no backdrop-filter support */
  .no-backdrop-filter .card {
    background: rgba(18, 18, 18, 0.9);
    backdrop-filter: none;
  }
  
  /* High contrast mode for critical monetary values */
  /* Ensures WCAG AAA contrast (7:1) for financial data readability */
  .money-high-contrast {
    color: #000000 !important;
    font-weight: 700 !important;
    text-shadow: none !important;
  }
  
  .dark .money-high-contrast {
    color: #ffffff !important;
  }
  
  /* High contrast for balance displays - Visual DNA v2.0 */
  .balance-display {
    @apply font-mono tabular-nums tracking-tight;
    color: #e5e5e5; /* gray-200 - never pure white */
    font-weight: 700;
    text-shadow: none;
    /* WCAG AAA: 7:1 contrast ratio */
  }
  
  .dark .balance-display {
    color: #e5e5e5; /* gray-200 - consistent with Visual DNA v2.0 */
  }
  
  /* Ensure monetary values in cards have sufficient contrast - Visual DNA v2.0 */
  .card .text-3xl.font-bold.tabular-nums,
  .card .text-2xl.font-bold.tabular-nums {
    color: #111827 !important; /* Gray 900 - high contrast (light mode) */
  }
  
  .dark .card .text-3xl.font-bold.tabular-nums,
  .dark .card .text-2xl.font-bold.tabular-nums {
    color: #e5e5e5 !important; /* gray-200 - never pure white */
  }
  
  /* ============================================================================
     END GLASS COMPONENTS
     ============================================================================ */
}

/* Utility classes */
@layer utilities {
  /* Shadow refinements */
  .shadow-soft {
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.05), 0 1px 2px 0 rgba(0, 0, 0, 0.04);
  }
}

/* HTMX Indicator styles */
@layer components {
  /* Hide indicator by default */
  .htmx-indicator {
    opacity: 0;
    transition: opacity 200ms ease-in;
  }

  /* Show indicator when HTMX is requesting (parent or self) */
  .htmx-request .htmx-indicator,
  .htmx-request.htmx-indicator {
    opacity: 1;
  }

  /* HTMX swapping animation for delete/fade-out */
  .htmx-swapping {
    opacity: 0;
    transition: opacity 0.5s ease-out;
  }

  /* Disable buttons and inputs during HTMX requests */
  .htmx-request button[type="submit"],
  form.htmx-request button[type="submit"],
  .htmx-request button.htmx-indicator-button {
    pointer-events: none;
    opacity: 0.6;
  }

  /* Disable form inputs during submission (for inline edits) */
  form.htmx-request input:not([type="hidden"]),
  form.htmx-request select,
  form.htmx-request textarea {
    pointer-events: none;
    opacity: 0.7;
    cursor: not-allowed;
  }

  /* Page loading bar animation */
  #page-loading-bar {
    transform-origin: left;
    transition: transform 0.2s ease-out;
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
  }

  /* Page loading overlay transitions */
  #page-loading-overlay {
    transition: opacity 0.3s ease-in-out;
  }

  /* Skeleton shimmer animation */
  @keyframes skeleton-shimmer {
    0% {
      background-position: -1000px 0;
    }
    100% {
      background-position: 1000px 0;
    }
  }

  .skeleton-shimmer {
    background: linear-gradient(
      90deg,
      #f3f4f6 0%,
      #e5e7eb 20%,
      #f3f4f6 40%,
      #f3f4f6 100%
    );
    background-size: 1000px 100%;
    animation: skeleton-shimmer 2s infinite;
  }

  /* Skeleton fade transitions */
  .skeleton-fade-in {
    animation: skeleton-fade-in 0.3s ease-in;
  }

  @keyframes skeleton-fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .skeleton-fade-out {
    animation: skeleton-fade-out 0.3s ease-out;
  }

  @keyframes skeleton-fade-out {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  /* Content fade-in after skeleton */
  .content-fade-in {
    animation: content-fade-in 0.4s ease-in;
  }

  @keyframes content-fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Fade in up animation - LUMA Dashboard */
  .animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out forwards;
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Body background - Visual DNA v2.0: The Void */
  body {
    @apply bg-gradient-to-br from-slate-50 via-gray-50 to-slate-50 min-h-screen;
  }
  
  .dark body {
    background: #000000; /* Singularity - deepest layer */
    background-attachment: fixed;
  }
  
  /* Main app canvas - Deep Space */
  .dark #app,
  .dark main {
    background: #050505; /* Deep Space - primary app canvas */
  }
  
  /* Orb animations - floating effect */
  @keyframes float-orb-1 {
    0%, 100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(30px, -30px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
  }
  
  @keyframes float-orb-2 {
    0%, 100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(-40px, 40px) scale(0.9);
    }
    66% {
      transform: translate(30px, -20px) scale(1.1);
    }
  }
  
  @keyframes float-orb-3 {
    0%, 100% {
      transform: translate(0, 0) scale(1);
    }
    33% {
      transform: translate(20px, 30px) scale(1.05);
    }
    66% {
      transform: translate(-30px, -40px) scale(0.95);
    }
  }
  
  .orb-1 {
    animation: float-orb-1 20s ease-in-out infinite;
  }
  
  .orb-2 {
    animation: float-orb-2 25s ease-in-out infinite;
  }
  
  .orb-3 {
    animation: float-orb-3 22s ease-in-out infinite;
  }
  
  /* Disable animations on reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .orb-1,
    .orb-2,
    .orb-3 {
      animation: none;
    }
  }
  
  /* Enhanced table row hover effects - Visual DNA v2.0 */
  .table-row-hover {
    @apply transition-all duration-300 ease-out;
  }
  
  .table-row-hover:hover {
    background: rgba(255, 255, 255, 0.05); /* hover:bg-white/5 */
    transform: scale(1.01);
  }
  
  /* Skeleton Loading - Visual DNA v2.0 */
  .skeleton {
    @apply animate-pulse rounded;
    background: rgba(255, 255, 255, 0.05); /* bg-white/5 */
  }
  
  .skeleton-circle {
    @apply rounded-full;
  }
  
  /* Empty State - Visual DNA v2.0 */
  .empty-state-icon {
    opacity: 0.2; /* Large, low-opacity (20%) icon */
  }
  
  .empty-state-icon svg {
    @apply w-16 h-16;
    color: #94a3b8; /* slate-400 */
  }
}

